<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Red Neuronal </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script type="text/javascript" src="./tytus.js"></script>
</head>
<body>
    <!-- Botón para regresar al index -->
    <a href="index.html" class="btn btn-secondary position-fixed top-0 end-0 m-3">Volver al Inicio</a>

    <div class="container my-5">
        <h1 class="text-center mb-4">Red Neuronal</h1>
        
        <!-- Entrada de datos de entrenamiento -->
        <div class="mb-4">
            <h4>Ejemplos de Entrenamiento</h4>
            <textarea class="form-control" id="textarea" rows="10" placeholder="Ejemplo de datos de entrenamiento: n1,n2"></textarea>
            <button id="random" class="btn btn-secondary mt-3">Generar Datos Aleatorios</button>
        </div>

        <!-- Sección de predicciones para n1 > n2 -->
        <div class="my-4">
            <h2>Predicción para n1 > n2</h2>
            <div class="mb-3">
                <input type="text" class="form-control" id="n1_1" placeholder="Inserte n1">
            </div>
            <div class="mb-3">
                <input type="text" class="form-control" id="n2_1" placeholder="Inserte n2">
            </div>
            <button id="predict1" class="btn btn-primary">Predecir</button>
            <p id="prediction_1" class="mt-3 fs-5"></p>
        </div>

        <!-- Sección de predicciones para n1 < n2 -->
        <div class="my-4">
            <h2>Predicción para n1 < n2</h2>
            <div class="mb-3">
                <input type="text" class="form-control" id="n1_2" placeholder="Inserte n1">
            </div>
            <div class="mb-3">
                <input type="text" class="form-control" id="n2_2" placeholder="Inserte n2">
            </div>
            <button id="predict2" class="btn btn-primary">Predecir</button>
            <p id="prediction_2" class="mt-3 fs-5"></p>
        </div>
    </div>

    <script>
        document.getElementById('random').onclick = function () {
            let data = "";
            for (let i = 0; i < 1000; i++) {
                let n1 = getRandomInt(0, 100);
                let n2 = getRandomInt(0, 100);
                data += n1 + "," + n2 + "\n";
            }
            document.getElementById('textarea').value = data.trim();
        };

        document.getElementById('predict1').onclick = function () {
            const design = [2, 4, 3, 2];
            const n1 = parseInt(document.getElementById('n1_1').value);
            const n2 = parseInt(document.getElementById('n2_1').value);
            const brain = new NeuralNetwork(design);

            const trainingData = document.getElementById('textarea').value.trim();
            if (!trainingData) {
                alert("Inserte datos de entrenamiento");
                return;
            }
            const examples = trainingData.split("\n").map(line => line.split(",").map(Number));
            examples.forEach(([num1, num2]) => {
                brain.Entrenar([num1, num2], num1 > num2 ? [1, 0] : [0, 1]);
            });

            const prediction = brain.Predecir([n1, n2]);
            document.getElementById("prediction_1").innerText = `Predicción [${n1}, ${n2}]: ${prediction}`;
        };

        document.getElementById('predict2').onclick = function () {
            const design = [2, 4, 3, 2];
            const n1 = parseInt(document.getElementById('n1_2').value);
            const n2 = parseInt(document.getElementById('n2_2').value);
            const brain = new NeuralNetwork(design);

            const trainingData = document.getElementById('textarea').value.trim();
            if (!trainingData) {
                alert("Inserte datos de entrenamiento");
                return;
            }
            const examples = trainingData.split("\n").map(line => line.split(",").map(Number));
            examples.forEach(([num1, num2]) => {
                brain.Entrenar([num1, num2], num1 < num2 ? [1, 0] : [0, 1]);
            });

            const prediction = brain.Predecir([n1, n2]);
            document.getElementById("prediction_2").innerText = `Predicción [${n1}, ${n2}]: ${prediction}`;
        };

        function getRandomInt(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }
    </script>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
